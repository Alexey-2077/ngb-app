# Спецификация приложения NGB

## Общее описание
Приложение NGB — это мобильное приложение, основанное на прогнозировании ежедневного изменения курса криптовалюты TON (The Open Network). Пользователи взаимодействуют с приложением через систему очков, выполняют задания, приглашают друзей через реферальную программу и могут делать пожертвования для получения премиум-функций. Приложение геймифицирует процесс прогнозирования курса TON и способствует росту сообщества через награды и стимулы.

## Система очков
В приложении предусмотрено три типа очков с различными функциями:

1. **XP (Очки опыта)**  
   - Несгораемые очки, влияющие на будущие награды (дропы). Чем больше XP, тем крупнее дроп.  
   - Начисляются за:  
     - Ежедневный вход в приложение  
     - Приглашение друзей (реферальная программа)  
     - Выполнение заданий  
     - Успешные ставки на изменение курса TON (количество XP увеличивается пропорционально выигранным Кристаллам)

2. **Кристаллы (Monetka)**  
   - Используются для ставок на прогноз изменения курса TON.  
   - Начисляются за:  
     - Ежедневный вход  
     - Выполнение определённых заданий  
     - Успешные ставки (ставка удваивается при выигрыше)  
   - Сгорают при проигрыше ставки.

3. **Тикеты**  
   - Предназначены для участия в будущих мини-играх (пока не реализованы).  
   - Начисляются за:  
     - Выполнение определённых заданий (в будущем — от партнёров, амбассадоров или рекламодателей)

## Механика игры
Пользователи предсказывают, повысится или понизится курс TON на следующий день. Основные правила:

- **Ставки**:  
  - Ставки делаются только с использованием Кристаллов.  
  - Возможные размеры ставки: 25%, 50% или 100% от текущего баланса Кристаллов.  
  - Ставки принимаются до 19:00 по МСК.  

- **Обновление курса**:  
  - Курс TON обновляется ежедневно в 03:00 по МСК.  
  - Результат ставки (выигрыш или проигрыш) отображается в 03:05 по МСК.  
  - Пользователь получает уведомление через бота о результате ставки.

- **Результаты**:  
  - **Выигрыш**: Количество поставленных Кристаллов удваивается, а эквивалентное количество XP добавляется к балансу.  
  - **Проигрыш**: Поставленные Кристаллы сгорают.  
  - **Без изменений курса**: Кристаллы возвращаются на баланс.

## Реферальная система
Реферальная программа поощряет пользователей за приглашение друзей:

- **Награды**:  
  - За одного друга: 150 XP  
  - За друга с Telegram Premium: 200 XP + 50 Кристаллов  
  - За друга друга: 50 XP  
  - За друга друга друга: 25 XP  

- **Повышенные реферальные бонусы**:  
  - Возможность вручную назначать повышенную реферальную награду (х2) по имени пользователя для амбассадорской программы.  
  - Автоматическое увеличение реферальной награды в 1.5 раза для владельцев NFT из коллекции NGB Club Pass (проверка через подключённый кошелёк).

## Задания
Задания делятся на два типа: ежедневные и обычные. В разделе «Задания» предусмотрены две вкладки для их разделения.

### Ежедневные 
- Приглашение друга: 20 XP  
- Совершение ставки: 50 XP  
- Посещение канала проекта: 10 XP (переход по ссылке)  
- Посещение канала основателя: 10 XP (переход по ссылке)  
- Буст канала проекта: 25 XP  
- Буст канала основателя: 25 XP  
- Ежедневное пожертвование: 500 XP  

*Примечание*: Возможность добавлять или удалять ежедневные задания.

### Обычные 
- Подписка на канал проекта: 100 XP  
- Подписка на Twitter проекта: 100 XP  
- Подписка на канал основателя: 100 XP  
- Приглашение 5 друзей: 100 XP  
- Приглашение 25 друзей: 500 XP + 100 Кристаллов  
- Приглашение 50 друзей: 1000 XP + 250 Кристаллов  

*Примечание*: Возможность добавлять или удалять обычные задания. В будущем будут добавлены задания от партнёров, амбассадоров или рекламодателей, за которые начисляются Тикеты.
## Интерфейс приложения
Приложение имеет четыре вкладки в нижней части экрана:

1. **Home (Главная страница)**  
   - **Верхняя часть**: Отображение баланса XP, Кристаллов и Тикетов. В будущем — кнопка «+» для покупки Тикетов.  
   - **Центр**: Текущий курс TON и кнопка «Сделать выбор» для ставки (повысится/понизится).  
     - После ставки отображается таймер до 03:00 по МСК.  
     - Если ставка не сделана, после 19:00 кнопка исчезает, появляется таймер.  
     - С 19:01 до 21:55 отображается предложение сделать пожертвование для ставки до 22:00.  

2. **Frens (Друзья)**  
   - **Верхняя часть**: Информация о бонусах за приглашение друзей.  
   - Кнопка для отправки реферальной ссылки.  
   - Отображение количества приглашённых друзей и их вклад в заработанные XP.

3. **Farm (Ферма)**  
   - Вкладка для будущих мини-игр. На данный момент неактивна.

4. **Tasks ()**  
   - Две вкладки: «Ежедневные» и «Обычные» для соответствующих заданий.

## Дополнительные функции
- **Подключение кошелька**: Требуется для проверки наличия NFT NGB Club Pass.  
- **Уведомления**: Бот отправляет уведомления о результатах ставок (выигрыш/проигрыш).  
- **Гибкость**: Возможность добавлять/удалять задания и расширять функционал (например, мини-игры, партнёрские задания).
